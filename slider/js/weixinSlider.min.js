"use strict";var weixinSlider=weixinSlider||function(i){var e=1,n=null,s=null,l=null,d=null,t=function(){i(".weixin-slider .weixin-slides .weixin-slider-list:last-child").prependTo(i(".weixin-slider .weixin-slides"))},w=function(){i(".weixin-slider .weixin-slides .weixin-slider-list:first-child").appendTo(i(".weixin-slider .weixin-slides"))},x=function(e){i(".weixin-slider .weixin-slides").css("bottom",(e-1)*n)},o=function(e){i(".weixin-slider .weixin-slider-ctrl span").removeClass("active").eq(e-1).addClass("active")},r=function(){i(".weixin-slider .weixin-slides").is(":animated")||(e++,e>s?(w(),x(s-1),i(".weixin-slider .weixin-slides").animate({bottom:(s-1)*n},d,function(){e=1,x(e),t(),o(e)})):a(e))},a=function(s){i(".weixin-slider .weixin-slides").is(":animated")||(i(".weixin-slider .weixin-slides").animate({bottom:(s-1)*n},d),o(e))},c=function(){var l=0,r=0,c=!1,u=0,m=0,f=0;i(".weixin-slider").on("touchstart",function(e){i(".weixin-slider .weixin-slides").is(":animated")||(c=!0,l=e.originalEvent.changedTouches[0].screenY)}),i(".weixin-slider").on("touchmove",function(d){return i(".weixin-slider .weixin-slides").is(":animated")?void(l=d.originalEvent.changedTouches[0].screenY):(0==c&&(l=d.originalEvent.changedTouches[0].screenY,c=!0),r=d.originalEvent.changedTouches[0].screenY-l,u=r/n*100,1==e?(1!=m&&(m=1,t(),x(2)),i(".weixin-slider .weixin-slides").is(":animated")||i(".weixin-slider .weixin-slides").animate({bottom:n-r},0)):e==s?(2!=m&&(m=2,w(),x(s-1)),i(".weixin-slider .weixin-slides").is(":animated")||i(".weixin-slider .weixin-slides").animate({bottom:(s-2)*n-r},0)):(3!=m&&(m=3),i(".weixin-slider .weixin-slides").is(":animated")||i(".weixin-slider .weixin-slides").animate({bottom:(e-1)*n-r},0)),void(f=r))}),i(".weixin-slider").on("touchend",function(l){i(".weixin-slider .weixin-slides").is(":animated")||(c=!1,u>=5?1==m?i(".weixin-slider .weixin-slides").animate({bottom:(e-1)*n},d,function(){e=s,w(),x(e),o(e)}):2==m?(t(),i(".weixin-slider .weixin-slides").css("bottom",(s-1)*n-f),e--,a(e)):(e--,a(e)):u<=-5?1==m?(w(),i(".weixin-slider .weixin-slides").css("bottom",-f),e++,a(e)):2==m?i(".weixin-slider .weixin-slides").animate({bottom:(e-1)*n},d,function(){e=1,t(),x(e),o(e)}):(e++,a(e)):1==m?i(".weixin-slider .weixin-slides").animate({bottom:e*n},d,function(){w(),x(e)}):2==m?i(".weixin-slider .weixin-slides").animate({bottom:(e-2)*n},d,function(){t(),x(e)}):a(e),u=0,m=0,f=0)})};return{init:function(t){l=t.intervalTime,d=t.playTime,s=i(".weixin-slider .weixin-slides .weixin-slider-list").length,window.onload=function(){n=i(".weixin-slider .weixin-slides .weixin-slider-list").eq(0).height()},i(".weixin-slider .weixin-slider-btn").on("touchstart",r),i(".weixin-slider .weixin-slider-ctrl span").on("touchstart",function(n){i(".weixin-slider .weixin-slides").is(":animated")||(e=i(".weixin-slider-ctrl span").index(i(this))+1,a(e))}),c(),i(window).resize(function(){n=i(".weixin-slider .weixin-slides .weixin-slider-list").eq(0).width(),x(e),o(e)})}}}($);