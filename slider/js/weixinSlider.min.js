"use strict";var slideSlider=slideSlider||function(i){var e=1,n=null,s=null,l=null,d=null,t=function(){i(".weixin-slider .weixin-slides .weixin-slider-list:last-child").prependTo(i(".weixin-slider .weixin-slides"))},w=function(){i(".weixin-slider .weixin-slides .weixin-slider-list:first-child").appendTo(i(".weixin-slider .weixin-slides"))},x=function(e){i(".weixin-slider .weixin-slides").css("bottom",-(e-1)*n)},r=function(e){i(".weixin-slider .weixin-slider-ctrl span").removeClass("active").eq(e-1).addClass("active")},o=function(){i(".weixin-slider .weixin-slides").is(":animated")||(e--,e<1?(t(),x(2),i(".weixin-slider .weixin-slides").animate({bottom:0},d,function(){e=s,x(s),w(),r(e)})):c(e))},a=function(){i(".weixin-slider .weixin-slides").is(":animated")||(e++,console.log("index:"+e+",yheight:"+n),e>s?(w(),x(s-1),i(".weixin-slider .weixin-slides").animate({bottom:(s-1)*n},d,function(){e=1,x(e),t(),r(e)})):c(e))},c=function(s){i(".weixin-slider .weixin-slides").is(":animated")||(i(".weixin-slider .weixin-slides").animate({bottom:(s-1)*n},d),r(e))},u=function(){var l=0,u=0,m=!1,h=0,f=0,v=0;i(".weixin-slider .weixin-slider-prev").on("touchstart",o),i(".weixin-slider .weixin-slider-next").on("touchstart",a),i(".weixin-slider .weixin-slider-ctrl span").on("touchstart",function(n){i(".weixin-slider .weixin-slides").is(":animated")||(e=i(".weixin-slider-ctrl span").index(i(this))+1,c(e))}),i(".weixin-slider").on("touchstart",function(e){i(".weixin-slider .weixin-slider-prev,.weixin-slider .weixin-slider-next").css("visibility","visible"),i(".weixin-slider .weixin-slides").is(":animated")||(m=!0,l=e.originalEvent.changedTouches[0].pageX)}),i(".weixin-slider").on("touchmove",function(d){return i(".weixin-slider .weixin-slides").is(":animated")?void(l=d.originalEvent.changedTouches[0].pageX):(0==m&&(l=d.originalEvent.changedTouches[0].pageX,m=!0),u=d.originalEvent.changedTouches[0].pageX-l,h=u/window.innerWidth*100,1==e?(1!=f&&(f=1,t(),x(2)),i(".weixin-slider .weixin-slides").is(":animated")||i(".weixin-slider .weixin-slides").animate({bottom:-n+u},0)):e==s?(2!=f&&(f=2,w(),x(s-1)),i(".weixin-slider .weixin-slides").is(":animated")||i(".weixin-slider .weixin-slides").animate({bottom:(2-s)*n+u},0)):(3!=f&&(f=3),i(".weixin-slider .weixin-slides").is(":animated")||i(".weixin-slider .weixin-slides").animate({bottom:(1-e)*n+u},0)),void(v=u))}),i(".weixin-slider").on("touchend",function(l){i(".weixin-slider .weixin-slides").is(":animated")||(m=!1,h>=20?1==f?i(".weixin-slider .weixin-slides").animate({bottom:(1-e)*n},d,function(){e=s,w(),x(e),r(e)}):2==f?(t(),i(".weixin-slider .weixin-slides").css("bottom",-(s-1)*n+v),e--,c(e)):(e--,c(e)):h<=-20?1==f?(w(),i(".weixin-slider .weixin-slides").css("bottom",v),e++,c(e)):2==f?i(".weixin-slider .weixin-slides").animate({bottom:(1-e)*n},d,function(){e=1,t(),x(e),r(e)}):(e++,c(e)):1==f?i(".weixin-slider .weixin-slides").animate({bottom:-e*n},d,function(){w(),x(e)}):2==f?i(".weixin-slider .weixin-slides").animate({bottom:(2-e)*n},d,function(){t(),x(e)}):c(e),h=0,f=0,v=0)})};return{init:function(t){l=t.intervalTime,d=t.playTime,s=i(".weixin-slider .weixin-slides .weixin-slider-list").length,n=i(".weixin-slider .weixin-slides .weixin-slider-list").eq(0).height(),i(".weixin-slider .weixin-slider-btn").on("touchstart",a),i(".weixin-slider .weixin-slider-ctrl span").on("click",function(){e=i(".weixin-slider-ctrl span").index(i(this))+1,c(e)}),u(),i(window).resize(function(){n=i(".weixin-slider .weixin-slides .weixin-slider-list").eq(0).width(),x(e),r(e)})}}}($);