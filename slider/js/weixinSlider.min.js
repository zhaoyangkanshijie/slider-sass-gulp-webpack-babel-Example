"use strict";var slideSlider=slideSlider||function(i){var e=1,n=null,s=null,l=null,t=null,d=null,r=null,w=function(){i(".weixin-slider .weixin-slides .weixin-slider-list:last-child").prependTo(i(".weixin-slider .weixin-slides"))},x=function(){i(".weixin-slider .weixin-slides .weixin-slider-list:first-child").appendTo(i(".weixin-slider .weixin-slides"))},o=function(e){i(".weixin-slider .weixin-slides").css("bottom",-(e-1)*s)},a=function(e){i(".weixin-slider .weixin-slider-ctrl span").removeClass("active").eq(e-1).addClass("active")},c=function(){i(".weixin-slider .weixin-slides").is(":animated")||(e--,e<1?(f(),w(),o(2),i(".weixin-slider .weixin-slides").animate({bottom:0},d,function(){e=l,o(l),x(),a(e),h()})):m(e))},u=function(){i(".weixin-slider .weixin-slides").is(":animated")||(e++,console.log("index:"+e+",yheight:"+s),e>l?(f(),x(),o(l-1),i(".weixin-slider .weixin-slides").animate({bottom:(l-1)*s},d,function(){e=1,o(e),w(),a(e),f(),h()})):m(e))},m=function(n){i(".weixin-slider .weixin-slides").is(":animated")||(f(),i(".weixin-slider .weixin-slides").animate({bottom:(n-1)*s},d),a(e),f(),h())},h=function(){n=setInterval(u,t)},f=function(){clearInterval(n)},v=function(){var n=0,t=0,r=!1,v=0,p=0,b=0;i(".weixin-slider .weixin-slider-prev").on("touchstart",c),i(".weixin-slider .weixin-slider-next").on("touchstart",u),i(".weixin-slider .weixin-slider-ctrl span").on("touchstart",function(n){i(".weixin-slider .weixin-slides").is(":animated")||(e=i(".weixin-slider-ctrl span").index(i(this))+1,m(e))}),i(".weixin-slider").on("touchstart",function(e){i(".weixin-slider .weixin-slider-prev,.weixin-slider .weixin-slider-next").css("visibility","visible"),i(".weixin-slider .weixin-slides").is(":animated")||(r=!0,f(),n=e.originalEvent.changedTouches[0].pageX)}),i(".weixin-slider").on("touchmove",function(d){return f(),i(".weixin-slider .weixin-slides").is(":animated")?void(n=d.originalEvent.changedTouches[0].pageX):(0==r&&(n=d.originalEvent.changedTouches[0].pageX,r=!0),t=d.originalEvent.changedTouches[0].pageX-n,v=t/window.innerWidth*100,1==e?(1!=p&&(p=1,w(),o(2)),i(".weixin-slider .weixin-slides").is(":animated")||i(".weixin-slider .weixin-slides").animate({bottom:-s+t},0)):e==l?(2!=p&&(p=2,x(),o(l-1)),i(".weixin-slider .weixin-slides").is(":animated")||i(".weixin-slider .weixin-slides").animate({bottom:(2-l)*s+t},0)):(3!=p&&(p=3),i(".weixin-slider .weixin-slides").is(":animated")||i(".weixin-slider .weixin-slides").animate({bottom:(1-e)*s+t},0)),void(b=t))}),i(".weixin-slider").on("touchend",function(n){i(".weixin-slider .weixin-slides").is(":animated")||(r=!1,v>=20?1==p?i(".weixin-slider .weixin-slides").animate({bottom:(1-e)*s},d,function(){e=l,x(),o(e),a(e)}):2==p?(w(),i(".weixin-slider .weixin-slides").css("bottom",-(l-1)*s+b),e--,m(e)):(e--,m(e)):v<=-20?1==p?(x(),i(".weixin-slider .weixin-slides").css("bottom",b),e++,m(e)):2==p?i(".weixin-slider .weixin-slides").animate({bottom:(1-e)*s},d,function(){e=1,w(),o(e),a(e)}):(e++,m(e)):1==p?i(".weixin-slider .weixin-slides").animate({bottom:-e*s},d,function(){x(),o(e)}):2==p?i(".weixin-slider .weixin-slides").animate({bottom:(2-e)*s},d,function(){w(),o(e)}):m(e),v=0,p=0,b=0,f(),h())})};return{init:function(n){t=n.intervalTime,d=n.playTime,r=n.playWhenHover,l=i(".weixin-slider .weixin-slides .weixin-slider-list").length,s=i(".weixin-slider .weixin-slides .weixin-slider-list").eq(0).height(),h(),i(".weixin-slider .weixin-slider-btn").on("touchstart",u),i(".weixin-slider .weixin-slider-ctrl span").on("click",function(){e=i(".weixin-slider-ctrl span").index(i(this))+1,m(e)}),i(".weixin-slider").hover(function(){0==r&&f()},function(){0==r&&(f(),h())}),v(),i(window).resize(function(){s=i(".weixin-slider .weixin-slides .weixin-slider-list").eq(0).width(),o(e),a(e)})}}}($);